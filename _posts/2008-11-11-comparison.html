---
layout: post
title: Comparison
published: true
---
Today I was trying to update a clock on a page I am building using ror. My first attempt led me to this:<br /><code><br /><br />var setTime=function(){<br />d = new Date();<br />document.getElementById('time').innerHTML = (d.getHours() + ':' + (d.getMinutes() d.getMinutes()) + ':' + d.getSeconds() + ' on ' + ['January', 'February',<br />'March', 'April', 'May', 'June', 'July', 'August', 'September',<br />'October', 'November', 'December'][d.getMonth()] + ' ' + d.getDate() +<br />', ' + d.getFullYear())<br />}<br />new PeriodicalExecuter(setTime, 1); <br /></code><p />Which updates the time, but its system time, not server time.<p />So I then tried this more railsy way: <br /><code><br />periodically_call_remote(:url => {:action => 'get_time'}, :frequency => '5', :update => 'time')<br /></code><br />Controller:<br /><code><br />  def get_time<br />    render :text => Time.now.strftime('%H:%M:%S on %a %b %d, %Y')<br />  end <br /></code><br />This works, but it hits the server for the time every :frequency...  Still searching for something better.<p />Thanks to the guys in my ruby group for getting me this far.  (google groups, tulsarb)<div class="blogger-post-footer"><img class="posterous_download_image" src="https://blogger.googleusercontent.com/tracker/7696555460565635585-5916594826087485573?l=www.jet5ive.com" height="1" alt="" width="1" /></div>
